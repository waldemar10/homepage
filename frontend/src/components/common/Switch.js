import React, { useContext, useEffect, useRef } from "react";

import { ThemeContext } from "../../context/themeContext";

function Switch() {
  const { theme,toggleTheme } = useContext(ThemeContext);

  const isDark = theme === "dark";

  return (
    <label className="switch-theme">
      <input
        type="checkbox"
        className="switch-theme__toggle"
        checked={isDark}
        onChange={(e) => toggleTheme(e.target.checked ? "dark" : "light")}
      />
      <span className="switch-theme__slider">
        <span className="switch-theme__icon-wrapper">
          <span className="switch-theme__icon switch-theme__icon--sun">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 942.27 942.12">
              <path d="M463.78,942.12c-10.41-4.48-16.48-12.52-21.08-22.79-18.36-40.96-37.32-81.64-56.04-122.44-1.13-2.47-2.09-5.01-3.72-8.95,58.92,15.5,116.86,15.72,176.06.02-1.37,3.66-2.2,6.35-3.36,8.89-18.56,40.55-37.32,81-55.63,121.66-4.7,10.43-10.63,19.1-21.5,23.61h-14.72Z" />
              <path d="M0,463.7c4.49-10.91,13.21-16.74,23.67-21.44,40.17-18.03,80.1-36.59,120.13-54.93,2.96-1.35,5.99-2.53,10.4-4.39-15.65,59.23-15.6,117.22.11,176.62-25.96-11.88-50.34-23.02-74.71-34.2-18.9-8.67-37.59-17.83-56.74-25.92-10.43-4.41-18.34-10.64-22.86-21.03v-14.72Z" />
              <path d="M470.86,745.22c-151.3-.06-273.94-122.84-273.93-274.23.02-151.76,122.89-274.25,274.96-274.09,151.2.16,273.57,123.08,273.45,274.67-.12,151.23-122.98,273.72-274.49,273.65Z" />
              <path d="M788.75,382.75c46.6,21.39,92.17,42.17,137.6,63.26,10.61,4.93,16.2,13.74,15.9,25.74-.29,12.01-6.53,20.09-17.14,24.98-37.47,17.25-74.98,34.42-112.48,51.61-7.69,3.53-15.4,7.03-23.58,10.76,18.55-105.19,10.4-113.81-.29-176.35Z" />
              <path d="M310.08,757.6c-21.41,7.93-41.36,15.33-61.31,22.73-26.91,9.97-53.73,20.2-80.77,29.8-18.57,6.59-35.98-4.04-37.87-22.63-.36-3.57-.26-7.55.95-10.86,17.44-47.56,35.1-95.03,53.41-144.41,31.04,53.27,72.11,94.51,125.58,125.37Z" />
              <path d="M382.55,154.29c13.2-28.8,25.66-55.95,38.1-83.11,8.4-18.33,16.61-36.75,25.26-54.96C450.74,6.06,458.89.21,470.53,0c11.15-.19,20.05,4.44,24.72,14.4,21.5,45.9,42.55,92,64.59,139.84-59.59-15.65-117.77-15.76-177.29.05Z" />
              <path d="M309.61,184.78c-53.18,30.75-94.2,71.91-125.09,125.13-9.18-24.81-17.81-48.27-26.53-71.69-8.3-22.32-16.61-44.64-25.06-66.91-4.57-12.05-4.75-23.5,4.85-33.22,9.59-9.72,21-9.82,33.13-5.29,44.34,16.53,88.72,32.96,133.07,49.45,1.4.52,2.74,1.23,5.62,2.55Z" />
              <path d="M633.25,757.11c52.28-30.36,93.43-71.36,124.11-124.31,1.5,3.32,2.69,5.6,3.58,7.98,16.28,43.77,32.61,87.53,48.72,131.36,7.46,20.28-2.84,38.34-22.62,39.82-4.13.31-8.65-.34-12.54-1.76-45.87-16.78-91.65-33.8-137.45-50.78-1.12-.41-2.08-1.24-3.8-2.3Z" />
              <path d="M757.52,309.57c-30.85-53.24-71.97-94.25-125.1-125.06,18.5-6.85,35.66-13.17,52.79-19.55,28.61-10.66,57.22-21.3,85.78-32.07,12.06-4.55,23.55-4.7,33.23,4.87,9.66,9.56,9.77,21.02,5.24,33.14-16.23,43.47-32.35,86.98-48.54,130.46-.84,2.26-1.85,4.46-3.41,8.21Z" />
            </svg>
          </span>
          <span className="switch-theme__icon switch-theme__icon--moon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 947.64 943.9">
              <path d="M0,434.81c2.48-18.54,4.19-37.21,7.56-55.59,18.88-102.86,65.87-190.83,141.93-262.67C208.05,61.26,276.44,22.75,354.15,1.13c12.78-3.56,27.1,1.56,34.48,11.94,8.03,11.3,7.65,24.87-.27,37.1-14.69,22.69-31.39,44.45-43.09,68.62-30.81,63.6-40.76,131.03-31.19,201.32,8.04,59.13,29.31,112.83,64.3,161.09,43.81,60.42,101.18,102.78,171.58,127.28,54.74,19.05,110.91,24.13,168.35,15.81,64.36-9.31,121.15-35.47,171.87-75.69,5-3.96,10.61-7.57,16.5-9.9,11.22-4.45,21.95-2.19,31,5.73,9.24,8.07,11.71,18.61,8.82,30.27-18.58,75.02-51.84,142.65-102.56,201.22-72.24,83.42-162.8,135.98-270.69,158.31-216.21,44.75-438.75-69.05-529.89-270.49-23.16-51.19-37.65-104.59-41.66-160.73-.17-2.4-1.11-4.75-1.7-7.12,0-20.36,0-40.71,0-61.07Z" />
            </svg>
          </span>
        </span>
      </span>
    </label>
  );
}

export default Switch;
